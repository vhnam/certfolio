---
import { getCollection, render } from "astro:content";
import Layout from "@/layouts/Layout.astro";

export async function getStaticPaths() {
  const entries = await getCollection("masterClass");

  return entries.map((entry) => {
    const routeSlug = entry.id.replace(/\/index$/, "");

    return {
      params: { slug: routeSlug },
      props: { entry },
    };
  });
}

const { entry } = Astro.props;
const { Content } = await render(entry);

const { title, description } = entry.data;
---

<Layout title={title} description={description} type="article">
  <article class="prose">
    <h1>{title}</h1>
    {description && <p class="lead">{description}</p>}
    <Content />
  </article>
</Layout>
